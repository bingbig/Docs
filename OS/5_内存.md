# 内存

## 1. 内存分区

### 1.1 固定分区

管理用户内存的最简单的方案，就是对其分区，形成若干固定边界的区域。可分为大小相等的分区和大小不等的分区。

`内部碎片（internal fragmentation）`： 分区内部存在空间浪费。

### 1.2 动态分区

分区的长度和数量是可变的，进程装入内存时，系统会给它分配一块与其所需容量完全相同的内存空间。

`外部碎片（external fragmentation）`：指在所有分区外的存储空间变成了越来越多的碎片。克服的一种办法是`压缩（compaction）`：操作系统不时的移动进程，使得进程占用的内存空间连续，并使得空闲的内存连成一片。

`置换算法`：在使用动态分区的是多道程序设计系统中，有时会出现内存中的所有进程都处于阻塞态的情况，即使进行了压缩仍没有足够的空间。为避免由于等待一个活动进程解除阻塞态引起的处理器是时间浪费，操作系统将一个阻塞态进程换出内存，给新进程或除于就绪－挂起态的进程让出空间。

### 1.3 伙伴系统

每次都将内存空间分为大小相等的两块，若两个内存块是大小相等的伙伴，则至少分配出去一个，否则它们将合并成为一个更大的块。

